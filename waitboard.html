<!DOCTYPE html>
<html>
<head>
<title>Waitboard Controller</title>
<style>
body {
font-family: Arial, sans-serif;
text-align: center;
padding: 50px;
background: #f0f4f8;
}
#waitTime {
font-size: 100px;
margin: 20px 0;
color: #333;
}
button {
font-size: 80px;
width: 120px;
height: 120px;
margin: 0 30px;
border: none;
border-radius: 20px;
color: white;
background-color: #007BFF;
cursor: pointer;
box-shadow: 0 6px 12px rgba(0,123,255,0.4);
transition: background-color 0.3s;
user-select: none;
}
button:active {
background-color: #0056b3;
box-shadow: 0 3px 6px rgba(0,86,179,0.5);
}
</style>
</head>
<body>

<h1>Waitboard Controller</h1>
<div id="waitTime">0</div>
<button id="minusBtn">âˆ’</button>
<button id="plusBtn">+</button>

<!-- Firebase SDKs (modular style) -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

// Your Firebase config here:
const firebaseConfig = {
apiKey: "YOUR-API-KEY",
authDomain: "YOUR-PROJECT.firebaseapp.com",
databaseURL: "https://YOUR-PROJECT.firebaseio.com",
projectId: "YOUR-PROJECT",
storageBucket: "YOUR-PROJECT.appspot.com",
messagingSenderId: "YOUR-SENDER-ID",
appId: "YOUR-APP-ID"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const waitTimeRef = ref(db, 'waitTime');

// Update the displayed wait time when the value changes in Firebase
onValue(waitTimeRef, (snapshot) => {
const val = snapshot.val();
document.getElementById('waitTime').textContent = val ?? 0;
});

// Update wait time safely using a transaction
function updateWaitTime(change) {
runTransaction(waitTimeRef, (currentValue) => {
let newVal = (currentValue ?? 0) + change;
if (newVal < 0) newVal = 0;
return newVal;
});
}

document.getElementById('plusBtn').onclick = () => updateWaitTime(1);
document.getElementById('minusBtn').onclick = () => updateWaitTime(-1);
</script>

</body>
</html>
